{"ast":null,"code":"import React, { useMemo, memo, useCallback, Fragment, useRef, useEffect } from 'react';\nimport { useTheme, guessQuantizeColorScale, quantizeColorScalePropType, withContainer, useDimensions, SvgWrapper, ResponsiveWrapper, getRelativeCursor } from '@nivo/core';\nimport { BasicTooltip, useTooltip } from '@nivo/tooltip';\nimport PropTypes from 'prop-types';\nimport { useInheritedColor, inheritedColorPropType } from '@nivo/colors';\nimport _get from 'lodash/get';\nimport _isFunction from 'lodash/isFunction';\nimport { format } from 'd3-format';\nimport { geoAzimuthalEqualArea, geoAzimuthalEquidistant, geoGnomonic, geoOrthographic, geoStereographic, geoEqualEarth, geoEquirectangular, geoMercator, geoTransverseMercator, geoNaturalEarth1, geoPath, geoGraticule, geoContains } from 'd3-geo';\nimport { useQuantizeColorScaleLegendData, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar projectionById = {\n  azimuthalEqualArea: geoAzimuthalEqualArea,\n  azimuthalEquidistant: geoAzimuthalEquidistant,\n  gnomonic: geoGnomonic,\n  orthographic: geoOrthographic,\n  stereographic: geoStereographic,\n  equalEarth: geoEqualEarth,\n  equirectangular: geoEquirectangular,\n  mercator: geoMercator,\n  transverseMercator: geoTransverseMercator,\n  naturalEarth1: geoNaturalEarth1\n};\n\nvar useGeoMap = function useGeoMap(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      projectionType = _ref.projectionType,\n      projectionScale = _ref.projectionScale,\n      projectionTranslation = _ref.projectionTranslation,\n      projectionRotation = _ref.projectionRotation,\n      fillColor = _ref.fillColor,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor;\n  var projection = useMemo(function () {\n    return projectionById[projectionType]().scale(projectionScale).translate([width * projectionTranslation[0], height * projectionTranslation[1]]).rotate(projectionRotation);\n  }, [width, height, projectionType, projectionScale, projectionTranslation[0], projectionTranslation[1], projectionRotation[0], projectionRotation[1], projectionRotation[2]]);\n  var path = useMemo(function () {\n    return geoPath(projection);\n  }, [projection]);\n  var graticule = useMemo(function () {\n    return geoGraticule();\n  });\n  var theme = useTheme();\n  var getBorderWidth = useMemo(function () {\n    return typeof borderWidth === 'function' ? borderWidth : function () {\n      return borderWidth;\n    };\n  }, [borderWidth]);\n  var getBorderColor = useInheritedColor(borderColor, theme);\n  var getFillColor = useMemo(function () {\n    return typeof fillColor === 'function' ? fillColor : function () {\n      return fillColor;\n    };\n  }, [fillColor]);\n  return {\n    projection: projection,\n    path: path,\n    graticule: graticule,\n    getBorderWidth: getBorderWidth,\n    getBorderColor: getBorderColor,\n    getFillColor: getFillColor\n  };\n};\n\nvar useChoropleth = function useChoropleth(_ref2) {\n  var features = _ref2.features,\n      data = _ref2.data,\n      match = _ref2.match,\n      label = _ref2.label,\n      value = _ref2.value,\n      valueFormat = _ref2.valueFormat,\n      colors = _ref2.colors,\n      unknownColor = _ref2.unknownColor,\n      domain = _ref2.domain;\n  var findMatchingDatum = useMemo(function () {\n    if (_isFunction(match)) return match;\n    return function (feature, datum) {\n      var featureKey = _get(feature, match);\n\n      var datumKey = _get(datum, match);\n\n      return featureKey && featureKey === datumKey;\n    };\n  }, [match]);\n  var getLabel = useMemo(function () {\n    return _isFunction(label) ? label : function (datum) {\n      return _get(datum, label);\n    };\n  }, [label]);\n  var getValue = useMemo(function () {\n    return _isFunction(value) ? value : function (datum) {\n      return _get(datum, value);\n    };\n  }, [value]);\n  var valueFormatter = useMemo(function () {\n    if (valueFormat === undefined) return function (d) {\n      return d;\n    };\n    if (_isFunction(valueFormat)) return valueFormat;\n    return format(valueFormat);\n  }, [valueFormat]);\n  var colorScale = useMemo(function () {\n    return guessQuantizeColorScale(colors).domain(domain);\n  }, [colors, domain]);\n  var getFillColor = useMemo(function () {\n    return function (feature) {\n      if (feature.value === undefined) return unknownColor;\n      return colorScale(feature.value);\n    };\n  }, [colorScale, unknownColor]);\n  var boundFeatures = useMemo(function () {\n    return features.map(function (feature) {\n      var datum = data.find(function (datum) {\n        return findMatchingDatum(feature, datum);\n      });\n      var datumValue = getValue(datum);\n\n      if (datum) {\n        var featureWithData = _objectSpread({}, feature, {\n          data: datum,\n          value: datumValue,\n          formattedValue: valueFormatter(datumValue)\n        });\n\n        featureWithData.color = getFillColor(featureWithData);\n        featureWithData.label = getLabel(featureWithData);\n        return featureWithData;\n      }\n\n      return feature;\n    });\n  }, [features, data, findMatchingDatum, getValue, valueFormatter, getFillColor]);\n  var legendData = useQuantizeColorScaleLegendData({\n    scale: colorScale,\n    valueFormat: valueFormatter\n  });\n  return {\n    colorScale: colorScale,\n    getFillColor: getFillColor,\n    boundFeatures: boundFeatures,\n    valueFormatter: valueFormatter,\n    legendData: legendData\n  };\n};\n\nvar ChoroplethTooltip = memo(function (_ref) {\n  var feature = _ref.feature;\n  if (feature.data === undefined) return null;\n  return React.createElement(BasicTooltip, {\n    id: feature.label,\n    color: feature.color,\n    enableChip: true,\n    value: feature.formattedValue\n  });\n});\nChoroplethTooltip.propTypes = {\n  feature: PropTypes.object.isRequired\n};\nChoroplethTooltip.displayName = 'ChoroplethTooltip';\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$1(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar commonPropTypes = {\n  features: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    type: PropTypes.oneOf(['Feature']).isRequired,\n    properties: PropTypes.object,\n    geometry: PropTypes.object.isRequired\n  })).isRequired,\n  projectionType: PropTypes.oneOf(Object.keys(projectionById)).isRequired,\n  projectionScale: PropTypes.number.isRequired,\n  projectionTranslation: PropTypes.arrayOf(PropTypes.number).isRequired,\n  projectionRotation: PropTypes.arrayOf(PropTypes.number).isRequired,\n  fillColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  borderWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\n  borderColor: inheritedColorPropType.isRequired,\n  enableGraticule: PropTypes.bool.isRequired,\n  graticuleLineWidth: PropTypes.number.isRequired,\n  graticuleLineColor: PropTypes.string.isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  onMouseEnter: PropTypes.func.isRequired,\n  onMouseMove: PropTypes.func.isRequired,\n  onMouseLeave: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n  tooltip: PropTypes.any,\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['graticule', 'features']), PropTypes.func])).isRequired\n};\n\nvar GeoMapPropTypes = _objectSpread$1({}, commonPropTypes);\n\nvar GeoMapCanvasPropTypes = _objectSpread$1({\n  pixelRatio: PropTypes.number.isRequired\n}, commonPropTypes);\n\nvar commonChoroplethPropTypes = {\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  match: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  valueFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  colors: quantizeColorScalePropType.isRequired,\n  domain: PropTypes.arrayOf(PropTypes.number).isRequired,\n  unknownColor: PropTypes.string.isRequired,\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['graticule', 'features', 'legends']), PropTypes.func])).isRequired\n};\n\nvar ChoroplethPropTypes = _objectSpread$1({}, GeoMapPropTypes, commonChoroplethPropTypes);\n\nvar ChoroplethCanvasPropTypes = _objectSpread$1({}, GeoMapCanvasPropTypes, commonChoroplethPropTypes);\n\nvar commonDefaultProps = {\n  projectionType: 'mercator',\n  projectionScale: 100,\n  projectionTranslation: [0.5, 0.5],\n  projectionRotation: [0, 0, 0],\n  enableGraticule: false,\n  graticuleLineWidth: 0.5,\n  graticuleLineColor: '#999999',\n  fillColor: '#dddddd',\n  borderWidth: 0,\n  borderColor: '#000000',\n  isInteractive: true,\n  onMouseEnter: function onMouseEnter() {},\n  onMouseLeave: function onMouseLeave() {},\n  onMouseMove: function onMouseMove() {},\n  onClick: function onClick() {},\n  layers: ['graticule', 'features'],\n  legends: []\n};\n\nvar GeoMapDefaultProps = _objectSpread$1({}, commonDefaultProps);\n\nvar GeoMapCanvasDefaultProps = _objectSpread$1({}, commonDefaultProps, {\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n});\n\nvar commonChoroplethDefaultProps = {\n  match: 'id',\n  label: 'id',\n  value: 'value',\n  colors: 'PuBuGn',\n  unknownColor: '#999',\n  tooltip: ChoroplethTooltip,\n  layers: ['graticule', 'features', 'legends']\n};\n\nvar ChoroplethDefaultProps = _objectSpread$1({}, GeoMapDefaultProps, commonChoroplethDefaultProps);\n\nvar ChoroplethCanvasDefaultProps = _objectSpread$1({}, GeoMapCanvasDefaultProps, commonChoroplethDefaultProps);\n\nvar GeoGraticule = memo(function (_ref) {\n  var path = _ref.path,\n      graticule = _ref.graticule,\n      lineWidth = _ref.lineWidth,\n      lineColor = _ref.lineColor;\n  return React.createElement(\"path\", {\n    fill: \"none\",\n    strokeWidth: lineWidth,\n    stroke: lineColor,\n    d: path(graticule())\n  });\n});\nGeoGraticule.propTypes = {\n  path: PropTypes.func.isRequired,\n  graticule: PropTypes.func.isRequired,\n  lineWidth: PropTypes.number.isRequired,\n  lineColor: PropTypes.string.isRequired\n};\nGeoGraticule.displayName = 'GeoGraticule';\nvar GeoMapFeature = memo(function (_ref) {\n  var feature = _ref.feature,\n      path = _ref.path,\n      fillColor = _ref.fillColor,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor,\n      _onClick = _ref.onClick,\n      _onMouseEnter = _ref.onMouseEnter,\n      _onMouseMove = _ref.onMouseMove,\n      _onMouseLeave = _ref.onMouseLeave;\n  return React.createElement(\"path\", {\n    key: feature.id,\n    fill: fillColor,\n    strokeWidth: borderWidth,\n    stroke: borderColor,\n    strokeLinejoin: \"bevel\",\n    d: path(feature),\n    onMouseEnter: function onMouseEnter(event) {\n      return _onMouseEnter(feature, event);\n    },\n    onMouseMove: function onMouseMove(event) {\n      return _onMouseMove(feature, event);\n    },\n    onMouseLeave: function onMouseLeave(event) {\n      return _onMouseLeave(feature, event);\n    },\n    onClick: function onClick(event) {\n      return _onClick(feature, event);\n    }\n  });\n});\nGeoMapFeature.propTypes = {\n  feature: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    type: PropTypes.oneOf(['Feature']).isRequired,\n    properties: PropTypes.object,\n    geometry: PropTypes.object.isRequired\n  }).isRequired,\n  path: PropTypes.func.isRequired,\n  fillColor: PropTypes.string.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.string.isRequired,\n  onMouseEnter: PropTypes.func.isRequired,\n  onMouseMove: PropTypes.func.isRequired,\n  onMouseLeave: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired\n};\nGeoMapFeature.displayName = 'GeoMapFeature';\nvar GeoMap = memo(function (props) {\n  var width = props.width,\n      height = props.height,\n      partialMargin = props.margin,\n      features = props.features,\n      layers = props.layers,\n      projectionType = props.projectionType,\n      projectionScale = props.projectionScale,\n      projectionTranslation = props.projectionTranslation,\n      projectionRotation = props.projectionRotation,\n      fillColor = props.fillColor,\n      borderWidth = props.borderWidth,\n      borderColor = props.borderColor,\n      enableGraticule = props.enableGraticule,\n      graticuleLineWidth = props.graticuleLineWidth,\n      graticuleLineColor = props.graticuleLineColor,\n      isInteractive = props.isInteractive,\n      onClick = props.onClick,\n      Tooltip = props.tooltip;\n\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n\n  var _useGeoMap = useGeoMap({\n    width: width,\n    height: height,\n    projectionType: projectionType,\n    projectionScale: projectionScale,\n    projectionTranslation: projectionTranslation,\n    projectionRotation: projectionRotation,\n    fillColor: fillColor,\n    borderWidth: borderWidth,\n    borderColor: borderColor\n  }),\n      graticule = _useGeoMap.graticule,\n      path = _useGeoMap.path,\n      getFillColor = _useGeoMap.getFillColor,\n      getBorderWidth = _useGeoMap.getBorderWidth,\n      getBorderColor = _useGeoMap.getBorderColor;\n\n  var theme = useTheme();\n\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var handleClick = useCallback(function (feature, event) {\n    return isInteractive && onClick && onClick(feature, event);\n  }, [isInteractive, onClick]);\n  var handleMouseEnter = useCallback(function (feature, event) {\n    return isInteractive && Tooltip && showTooltipFromEvent(React.createElement(Tooltip, {\n      feature: feature\n    }), event);\n  }, [isInteractive, showTooltipFromEvent, Tooltip]);\n  var handleMouseMove = useCallback(function (feature, event) {\n    return isInteractive && Tooltip && showTooltipFromEvent(React.createElement(Tooltip, {\n      feature: feature\n    }), event);\n  }, [isInteractive, showTooltipFromEvent, Tooltip]);\n  var handleMouseLeave = useCallback(function () {\n    return isInteractive && hideTooltip();\n  }, [isInteractive, hideTooltip]);\n  return React.createElement(SvgWrapper, {\n    width: outerWidth,\n    height: outerHeight,\n    margin: margin,\n    theme: theme\n  }, layers.map(function (layer, i) {\n    if (layer === 'graticule') {\n      if (enableGraticule !== true) return null;\n      return React.createElement(GeoGraticule, {\n        key: \"graticule\",\n        path: path,\n        graticule: graticule,\n        lineWidth: graticuleLineWidth,\n        lineColor: graticuleLineColor\n      });\n    }\n\n    if (layer === 'features') {\n      return React.createElement(Fragment, {\n        key: \"features\"\n      }, features.map(function (feature) {\n        return React.createElement(GeoMapFeature, {\n          key: feature.id,\n          feature: feature,\n          path: path,\n          fillColor: getFillColor(feature),\n          borderWidth: getBorderWidth(feature),\n          borderColor: getBorderColor(feature),\n          onMouseEnter: handleMouseEnter,\n          onMouseMove: handleMouseMove,\n          onMouseLeave: handleMouseLeave,\n          onClick: handleClick\n        });\n      }));\n    }\n\n    return React.createElement(Fragment, {\n      key: i\n    }, layer(props));\n  }));\n});\nGeoMap.displayName = 'GeoMap';\nGeoMap.propTypes = GeoMapPropTypes;\nGeoMap.defaultProps = GeoMapDefaultProps;\nvar GeoMap$1 = withContainer(GeoMap);\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar ResponsiveGeoMap = function ResponsiveGeoMap(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(GeoMap$1, _extends({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar getFeatureFromMouseEvent = function getFeatureFromMouseEvent(event, el, features, projection) {\n  var _getRelativeCursor = getRelativeCursor(el, event),\n      _getRelativeCursor2 = _slicedToArray(_getRelativeCursor, 2),\n      x = _getRelativeCursor2[0],\n      y = _getRelativeCursor2[1];\n\n  return features.find(function (f) {\n    return geoContains(f, projection.invert([x, y]));\n  });\n};\n\nvar GeoMapCanvas = memo(function (props) {\n  var width = props.width,\n      height = props.height,\n      partialMargin = props.margin,\n      pixelRatio = props.pixelRatio,\n      features = props.features,\n      layers = props.layers,\n      projectionType = props.projectionType,\n      projectionScale = props.projectionScale,\n      projectionTranslation = props.projectionTranslation,\n      projectionRotation = props.projectionRotation,\n      fillColor = props.fillColor,\n      borderWidth = props.borderWidth,\n      borderColor = props.borderColor,\n      enableGraticule = props.enableGraticule,\n      graticuleLineWidth = props.graticuleLineWidth,\n      graticuleLineColor = props.graticuleLineColor,\n      isInteractive = props.isInteractive,\n      onClick = props.onClick,\n      onMouseMove = props.onMouseMove,\n      Tooltip = props.tooltip;\n  var canvasEl = useRef(null);\n  var theme = useTheme();\n\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n\n  var _useGeoMap = useGeoMap({\n    width: width,\n    height: height,\n    projectionType: projectionType,\n    projectionScale: projectionScale,\n    projectionTranslation: projectionTranslation,\n    projectionRotation: projectionRotation,\n    fillColor: fillColor,\n    borderWidth: borderWidth,\n    borderColor: borderColor\n  }),\n      projection = _useGeoMap.projection,\n      graticule = _useGeoMap.graticule,\n      path = _useGeoMap.path,\n      getFillColor = _useGeoMap.getFillColor,\n      getBorderWidth = _useGeoMap.getBorderWidth,\n      getBorderColor = _useGeoMap.getBorderColor;\n\n  useEffect(function () {\n    if (!canvasEl) return;\n    canvasEl.current.width = outerWidth * pixelRatio;\n    canvasEl.current.height = outerHeight * pixelRatio;\n    var ctx = canvasEl.current.getContext('2d');\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.fillStyle = theme.background;\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\n    ctx.translate(margin.left, margin.top);\n    path.context(ctx);\n    layers.forEach(function (layer) {\n      if (layer === 'graticule') {\n        if (enableGraticule === true) {\n          ctx.lineWidth = graticuleLineWidth;\n          ctx.strokeStyle = graticuleLineColor;\n          ctx.beginPath();\n          path(graticule());\n          ctx.stroke();\n        }\n      } else if (layer === 'features') {\n        features.forEach(function (feature) {\n          ctx.beginPath();\n          path(feature);\n          ctx.fillStyle = getFillColor(feature);\n          ctx.fill();\n          var borderWidth = getBorderWidth(feature);\n\n          if (borderWidth > 0) {\n            ctx.strokeStyle = getBorderColor(feature);\n            ctx.lineWidth = borderWidth;\n            ctx.stroke();\n          }\n        });\n      } else {\n        layer(ctx, props);\n      }\n    });\n  }, [canvasEl, outerWidth, outerHeight, margin, pixelRatio, theme, path, graticule, getFillColor, getBorderWidth, getBorderColor, features, layers]);\n\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var handleMouseMove = useCallback(function () {\n    if (!isInteractive || !Tooltip) return;\n    var feature = getFeatureFromMouseEvent(event, canvasEl.current, features, projection);\n\n    if (feature) {\n      showTooltipFromEvent(React.createElement(Tooltip, {\n        feature: feature\n      }), event);\n    } else {\n      hideTooltip();\n    }\n\n    onMouseMove && onMouseMove(feature || null, event);\n  }, [showTooltipFromEvent, hideTooltip, isInteractive, Tooltip, canvasEl, features, projection]);\n  var handleMouseLeave = useCallback(function () {\n    return isInteractive && hideTooltip();\n  }, [isInteractive, hideTooltip]);\n  var handleClick = useCallback(function () {\n    if (!isInteractive || !onClick) return;\n    var feature = getFeatureFromMouseEvent(event, canvasEl.current, features, projection);\n\n    if (feature) {\n      onClick(feature, event);\n    }\n  }, [isInteractive, canvasEl, features, projection, onClick]);\n  return React.createElement(\"canvas\", {\n    ref: canvasEl,\n    width: outerWidth * pixelRatio,\n    height: outerHeight * pixelRatio,\n    style: {\n      width: outerWidth,\n      height: outerHeight,\n      cursor: isInteractive ? 'auto' : 'normal'\n    },\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick\n  });\n});\nGeoMapCanvas.displatName = 'GeoMapCanvas';\nGeoMapCanvas.propTypes = GeoMapCanvasPropTypes;\nGeoMapCanvas.defaultProps = GeoMapCanvasDefaultProps;\nvar GeoMapCanvas$1 = withContainer(GeoMapCanvas);\n\nfunction _extends$1() {\n  _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$1.apply(this, arguments);\n}\n\nvar ResponsiveGeoMapCanvas = function ResponsiveGeoMapCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(GeoMapCanvas$1, _extends$1({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _extends$2() {\n  _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$2.apply(this, arguments);\n}\n\nvar Choropleth = memo(function (_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      partialMargin = _ref.margin,\n      features = _ref.features,\n      data = _ref.data,\n      match = _ref.match,\n      label = _ref.label,\n      value = _ref.value,\n      valueFormat = _ref.valueFormat,\n      projectionType = _ref.projectionType,\n      projectionScale = _ref.projectionScale,\n      projectionTranslation = _ref.projectionTranslation,\n      projectionRotation = _ref.projectionRotation,\n      colors = _ref.colors,\n      domain = _ref.domain,\n      unknownColor = _ref.unknownColor,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor,\n      enableGraticule = _ref.enableGraticule,\n      graticuleLineWidth = _ref.graticuleLineWidth,\n      graticuleLineColor = _ref.graticuleLineColor,\n      layers = _ref.layers,\n      legends = _ref.legends,\n      isInteractive = _ref.isInteractive,\n      onClick = _ref.onClick,\n      Tooltip = _ref.tooltip;\n\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n\n  var _useGeoMap = useGeoMap({\n    width: width,\n    height: height,\n    projectionType: projectionType,\n    projectionScale: projectionScale,\n    projectionTranslation: projectionTranslation,\n    projectionRotation: projectionRotation,\n    fillColor: function fillColor() {},\n    borderWidth: borderWidth,\n    borderColor: borderColor\n  }),\n      graticule = _useGeoMap.graticule,\n      path = _useGeoMap.path,\n      getBorderWidth = _useGeoMap.getBorderWidth,\n      getBorderColor = _useGeoMap.getBorderColor;\n\n  var _useChoropleth = useChoropleth({\n    features: features,\n    data: data,\n    match: match,\n    label: label,\n    value: value,\n    valueFormat: valueFormat,\n    colors: colors,\n    unknownColor: unknownColor,\n    domain: domain\n  }),\n      getFillColor = _useChoropleth.getFillColor,\n      boundFeatures = _useChoropleth.boundFeatures,\n      legendData = _useChoropleth.legendData;\n\n  var theme = useTheme();\n\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var handleClick = useCallback(function (feature, event) {\n    return isInteractive && onClick && onClick(feature, event);\n  }, [isInteractive, onClick]);\n  var handleMouseEnter = useCallback(function (feature, event) {\n    return isInteractive && Tooltip && showTooltipFromEvent(React.createElement(Tooltip, {\n      feature: feature\n    }), event);\n  }, [isInteractive, showTooltipFromEvent, Tooltip]);\n  var handleMouseMove = useCallback(function (feature, event) {\n    return isInteractive && Tooltip && showTooltipFromEvent(React.createElement(Tooltip, {\n      feature: feature\n    }), event);\n  }, [isInteractive, showTooltipFromEvent, Tooltip]);\n  var handleMouseLeave = useCallback(function () {\n    return isInteractive && hideTooltip();\n  }, [isInteractive, hideTooltip]);\n  return React.createElement(SvgWrapper, {\n    width: outerWidth,\n    height: outerHeight,\n    margin: margin,\n    theme: theme\n  }, layers.map(function (layer, i) {\n    if (layer === 'graticule') {\n      if (enableGraticule !== true) return null;\n      return React.createElement(GeoGraticule, {\n        key: \"graticule\",\n        path: path,\n        graticule: graticule,\n        lineWidth: graticuleLineWidth,\n        lineColor: graticuleLineColor\n      });\n    }\n\n    if (layer === 'features') {\n      return React.createElement(Fragment, {\n        key: \"features\"\n      }, boundFeatures.map(function (feature) {\n        return React.createElement(GeoMapFeature, {\n          key: feature.id,\n          feature: feature,\n          path: path,\n          fillColor: getFillColor(feature),\n          borderWidth: getBorderWidth(feature),\n          borderColor: getBorderColor(feature),\n          onMouseEnter: handleMouseEnter,\n          onMouseMove: handleMouseMove,\n          onMouseLeave: handleMouseLeave,\n          onClick: handleClick\n        });\n      }));\n    }\n\n    if (layer === 'legends') {\n      return legends.map(function (legend, i) {\n        return React.createElement(BoxLegendSvg, _extends$2({\n          key: i,\n          containerWidth: width,\n          containerHeight: height,\n          data: legendData\n        }, legend));\n      });\n    }\n\n    return React.createElement(Fragment, {\n      key: i\n    }, layer({}));\n  }));\n});\nChoropleth.displayName = 'Choropleth';\nChoropleth.propTypes = ChoroplethPropTypes;\nChoropleth.defaultProps = ChoroplethDefaultProps;\nvar Choropleth$1 = withContainer(Choropleth);\n\nfunction _extends$3() {\n  _extends$3 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$3.apply(this, arguments);\n}\n\nvar ResponsiveChoropleth = function ResponsiveChoropleth(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Choropleth$1, _extends$3({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$2(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty$2(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray$1(arr, i) {\n  return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _nonIterableRest$1();\n}\n\nfunction _nonIterableRest$1() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit$1(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles$1(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar getFeatureFromMouseEvent$1 = function getFeatureFromMouseEvent(event, el, features, projection) {\n  var _getRelativeCursor = getRelativeCursor(el, event),\n      _getRelativeCursor2 = _slicedToArray$1(_getRelativeCursor, 2),\n      x = _getRelativeCursor2[0],\n      y = _getRelativeCursor2[1];\n\n  return features.find(function (f) {\n    return geoContains(f, projection.invert([x, y]));\n  });\n};\n\nvar ChoroplethCanvas = memo(function (_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      partialMargin = _ref.margin,\n      pixelRatio = _ref.pixelRatio,\n      features = _ref.features,\n      data = _ref.data,\n      match = _ref.match,\n      label = _ref.label,\n      value = _ref.value,\n      valueFormat = _ref.valueFormat,\n      projectionType = _ref.projectionType,\n      projectionScale = _ref.projectionScale,\n      projectionTranslation = _ref.projectionTranslation,\n      projectionRotation = _ref.projectionRotation,\n      colors = _ref.colors,\n      domain = _ref.domain,\n      unknownColor = _ref.unknownColor,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor,\n      enableGraticule = _ref.enableGraticule,\n      graticuleLineWidth = _ref.graticuleLineWidth,\n      graticuleLineColor = _ref.graticuleLineColor,\n      layers = _ref.layers,\n      legends = _ref.legends,\n      isInteractive = _ref.isInteractive,\n      onClick = _ref.onClick,\n      onMouseMove = _ref.onMouseMove,\n      Tooltip = _ref.tooltip;\n  var canvasEl = useRef(null);\n  var theme = useTheme();\n\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n\n  var _useGeoMap = useGeoMap({\n    width: width,\n    height: height,\n    projectionType: projectionType,\n    projectionScale: projectionScale,\n    projectionTranslation: projectionTranslation,\n    projectionRotation: projectionRotation,\n    fillColor: function fillColor() {},\n    borderWidth: borderWidth,\n    borderColor: borderColor\n  }),\n      projection = _useGeoMap.projection,\n      graticule = _useGeoMap.graticule,\n      path = _useGeoMap.path,\n      getBorderWidth = _useGeoMap.getBorderWidth,\n      getBorderColor = _useGeoMap.getBorderColor;\n\n  var _useChoropleth = useChoropleth({\n    features: features,\n    data: data,\n    match: match,\n    label: label,\n    value: value,\n    valueFormat: valueFormat,\n    colors: colors,\n    unknownColor: unknownColor,\n    domain: domain\n  }),\n      getFillColor = _useChoropleth.getFillColor,\n      boundFeatures = _useChoropleth.boundFeatures,\n      legendData = _useChoropleth.legendData;\n\n  useEffect(function () {\n    if (!canvasEl) return;\n    canvasEl.current.width = outerWidth * pixelRatio;\n    canvasEl.current.height = outerHeight * pixelRatio;\n    var ctx = canvasEl.current.getContext('2d');\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.fillStyle = theme.background;\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\n    ctx.translate(margin.left, margin.top);\n    path.context(ctx);\n    layers.forEach(function (layer) {\n      if (layer === 'graticule') {\n        if (enableGraticule === true) {\n          ctx.lineWidth = graticuleLineWidth;\n          ctx.strokeStyle = graticuleLineColor;\n          ctx.beginPath();\n          path(graticule());\n          ctx.stroke();\n        }\n      } else if (layer === 'features') {\n        boundFeatures.forEach(function (feature) {\n          ctx.beginPath();\n          path(feature);\n          ctx.fillStyle = getFillColor(feature);\n          ctx.fill();\n          var borderWidth = getBorderWidth(feature);\n\n          if (borderWidth > 0) {\n            ctx.strokeStyle = getBorderColor(feature);\n            ctx.lineWidth = borderWidth;\n            ctx.stroke();\n          }\n        });\n      } else if (layer === 'legends') {\n        legends.forEach(function (legend) {\n          renderLegendToCanvas(ctx, _objectSpread$2({}, legend, {\n            data: legendData,\n            containerWidth: width,\n            containerHeight: height,\n            theme: theme\n          }));\n        });\n      }\n    });\n  }, [canvasEl, outerWidth, outerHeight, margin, pixelRatio, theme, path, graticule, getFillColor, getBorderWidth, getBorderColor, boundFeatures, legends, layers]);\n\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var handleMouseMove = useCallback(function () {\n    if (!isInteractive || !Tooltip) return;\n    var feature = getFeatureFromMouseEvent$1(event, canvasEl.current, boundFeatures, projection);\n\n    if (feature) {\n      showTooltipFromEvent(React.createElement(Tooltip, {\n        feature: feature\n      }), event);\n    } else {\n      hideTooltip();\n    }\n\n    onMouseMove && onMouseMove(feature || null, event);\n  }, [showTooltipFromEvent, hideTooltip, isInteractive, Tooltip, canvasEl, boundFeatures, projection]);\n  var handleMouseLeave = useCallback(function () {\n    return isInteractive && hideTooltip();\n  }, [isInteractive, hideTooltip]);\n  var handleClick = useCallback(function () {\n    if (!isInteractive || !onClick) return;\n    var feature = getFeatureFromMouseEvent$1(event, canvasEl.current, boundFeatures, projection);\n\n    if (feature) {\n      onClick(feature, event);\n    }\n  }, [isInteractive, canvasEl, boundFeatures, projection, onClick]);\n  return React.createElement(\"canvas\", {\n    ref: canvasEl,\n    width: outerWidth * pixelRatio,\n    height: outerHeight * pixelRatio,\n    style: {\n      width: outerWidth,\n      height: outerHeight,\n      cursor: isInteractive ? 'auto' : 'normal'\n    },\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick\n  });\n});\nChoroplethCanvas.displayName = 'ChoroplethCanvas';\nChoroplethCanvas.propTypes = ChoroplethCanvasPropTypes;\nChoroplethCanvas.defaultProps = ChoroplethCanvasDefaultProps;\nvar ChoroplethCanvas$1 = withContainer(ChoroplethCanvas);\n\nfunction _extends$4() {\n  _extends$4 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$4.apply(this, arguments);\n}\n\nvar ResponsiveChoroplethCanvas = function ResponsiveChoroplethCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(ChoroplethCanvas$1, _extends$4({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { Choropleth$1 as Choropleth, ChoroplethCanvas$1 as ChoroplethCanvas, ChoroplethCanvasDefaultProps, ChoroplethCanvasPropTypes, ChoroplethDefaultProps, ChoroplethPropTypes, GeoMap$1 as GeoMap, GeoMapCanvas$1 as GeoMapCanvas, GeoMapCanvasDefaultProps, GeoMapCanvasPropTypes, GeoMapDefaultProps, GeoMapPropTypes, ResponsiveChoropleth, ResponsiveChoroplethCanvas, ResponsiveGeoMap, ResponsiveGeoMapCanvas, projectionById, useChoropleth, useGeoMap };","map":{"version":3,"sources":["C:/Users/zahyd/OneDrive/Desktop/gituploads/covid-tracker/node_modules/@nivo/geo/dist/nivo-geo.esm.js"],"names":["React","useMemo","memo","useCallback","Fragment","useRef","useEffect","useTheme","guessQuantizeColorScale","quantizeColorScalePropType","withContainer","useDimensions","SvgWrapper","ResponsiveWrapper","getRelativeCursor","BasicTooltip","useTooltip","PropTypes","useInheritedColor","inheritedColorPropType","_get","_isFunction","format","geoAzimuthalEqualArea","geoAzimuthalEquidistant","geoGnomonic","geoOrthographic","geoStereographic","geoEqualEarth","geoEquirectangular","geoMercator","geoTransverseMercator","geoNaturalEarth1","geoPath","geoGraticule","geoContains","useQuantizeColorScaleLegendData","BoxLegendSvg","renderLegendToCanvas","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","projectionById","azimuthalEqualArea","azimuthalEquidistant","gnomonic","orthographic","stereographic","equalEarth","equirectangular","mercator","transverseMercator","naturalEarth1","useGeoMap","_ref","width","height","projectionType","projectionScale","projectionTranslation","projectionRotation","fillColor","borderWidth","borderColor","projection","scale","translate","rotate","path","graticule","theme","getBorderWidth","getBorderColor","getFillColor","useChoropleth","_ref2","features","data","match","label","valueFormat","colors","unknownColor","domain","findMatchingDatum","feature","datum","featureKey","datumKey","getLabel","getValue","valueFormatter","undefined","d","colorScale","boundFeatures","map","find","datumValue","featureWithData","formattedValue","color","legendData","ChoroplethTooltip","createElement","id","enableChip","propTypes","object","isRequired","displayName","_objectSpread$1","_defineProperty$1","commonPropTypes","arrayOf","shape","string","type","oneOf","properties","geometry","number","oneOfType","func","enableGraticule","bool","graticuleLineWidth","graticuleLineColor","isInteractive","onMouseEnter","onMouseMove","onMouseLeave","onClick","tooltip","any","layers","GeoMapPropTypes","GeoMapCanvasPropTypes","pixelRatio","commonChoroplethPropTypes","ChoroplethPropTypes","ChoroplethCanvasPropTypes","commonDefaultProps","legends","GeoMapDefaultProps","GeoMapCanvasDefaultProps","global","window","devicePixelRatio","commonChoroplethDefaultProps","ChoroplethDefaultProps","ChoroplethCanvasDefaultProps","GeoGraticule","lineWidth","lineColor","fill","strokeWidth","stroke","GeoMapFeature","_onClick","_onMouseEnter","_onMouseMove","_onMouseLeave","strokeLinejoin","event","GeoMap","props","partialMargin","margin","Tooltip","_useDimensions","outerWidth","outerHeight","_useGeoMap","_useTooltip","showTooltipFromEvent","hideTooltip","handleClick","handleMouseEnter","handleMouseMove","handleMouseLeave","layer","defaultProps","GeoMap$1","_extends","assign","prototype","hasOwnProperty","call","apply","ResponsiveGeoMap","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","toString","_arr","_n","_d","_e","_i","_s","next","done","push","err","Array","isArray","getFeatureFromMouseEvent","el","_getRelativeCursor","_getRelativeCursor2","x","y","f","invert","GeoMapCanvas","canvasEl","current","ctx","getContext","fillStyle","background","fillRect","left","top","context","strokeStyle","beginPath","ref","style","cursor","displatName","GeoMapCanvas$1","_extends$1","ResponsiveGeoMapCanvas","_extends$2","Choropleth","_useChoropleth","legend","containerWidth","containerHeight","Choropleth$1","_extends$3","ResponsiveChoropleth","_objectSpread$2","_defineProperty$2","_slicedToArray$1","_arrayWithHoles$1","_iterableToArrayLimit$1","_nonIterableRest$1","getFeatureFromMouseEvent$1","ChoroplethCanvas","ChoroplethCanvas$1","_extends$4","ResponsiveChoroplethCanvas"],"mappings":"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","sourcesContent":["import React, { useMemo, memo, useCallback, Fragment, useRef, useEffect } from 'react';\nimport { useTheme, guessQuantizeColorScale, quantizeColorScalePropType, withContainer, useDimensions, SvgWrapper, ResponsiveWrapper, getRelativeCursor } from '@nivo/core';\nimport { BasicTooltip, useTooltip } from '@nivo/tooltip';\nimport PropTypes from 'prop-types';\nimport { useInheritedColor, inheritedColorPropType } from '@nivo/colors';\nimport _get from 'lodash/get';\nimport _isFunction from 'lodash/isFunction';\nimport { format } from 'd3-format';\nimport { geoAzimuthalEqualArea, geoAzimuthalEquidistant, geoGnomonic, geoOrthographic, geoStereographic, geoEqualEarth, geoEquirectangular, geoMercator, geoTransverseMercator, geoNaturalEarth1, geoPath, geoGraticule, geoContains } from 'd3-geo';\nimport { useQuantizeColorScaleLegendData, BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar projectionById = {\n  azimuthalEqualArea: geoAzimuthalEqualArea,\n  azimuthalEquidistant: geoAzimuthalEquidistant,\n  gnomonic: geoGnomonic,\n  orthographic: geoOrthographic,\n  stereographic: geoStereographic,\n  equalEarth: geoEqualEarth,\n  equirectangular: geoEquirectangular,\n  mercator: geoMercator,\n  transverseMercator: geoTransverseMercator,\n  naturalEarth1: geoNaturalEarth1\n};\nvar useGeoMap = function useGeoMap(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      projectionType = _ref.projectionType,\n      projectionScale = _ref.projectionScale,\n      projectionTranslation = _ref.projectionTranslation,\n      projectionRotation = _ref.projectionRotation,\n      fillColor = _ref.fillColor,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor;\n  var projection = useMemo(function () {\n    return projectionById[projectionType]().scale(projectionScale).translate([width * projectionTranslation[0], height * projectionTranslation[1]]).rotate(projectionRotation);\n  }, [width, height, projectionType, projectionScale, projectionTranslation[0], projectionTranslation[1], projectionRotation[0], projectionRotation[1], projectionRotation[2]]);\n  var path = useMemo(function () {\n    return geoPath(projection);\n  }, [projection]);\n  var graticule = useMemo(function () {\n    return geoGraticule();\n  });\n  var theme = useTheme();\n  var getBorderWidth = useMemo(function () {\n    return typeof borderWidth === 'function' ? borderWidth : function () {\n      return borderWidth;\n    };\n  }, [borderWidth]);\n  var getBorderColor = useInheritedColor(borderColor, theme);\n  var getFillColor = useMemo(function () {\n    return typeof fillColor === 'function' ? fillColor : function () {\n      return fillColor;\n    };\n  }, [fillColor]);\n  return {\n    projection: projection,\n    path: path,\n    graticule: graticule,\n    getBorderWidth: getBorderWidth,\n    getBorderColor: getBorderColor,\n    getFillColor: getFillColor\n  };\n};\nvar useChoropleth = function useChoropleth(_ref2) {\n  var features = _ref2.features,\n      data = _ref2.data,\n      match = _ref2.match,\n      label = _ref2.label,\n      value = _ref2.value,\n      valueFormat = _ref2.valueFormat,\n      colors = _ref2.colors,\n      unknownColor = _ref2.unknownColor,\n      domain = _ref2.domain;\n  var findMatchingDatum = useMemo(function () {\n    if (_isFunction(match)) return match;\n    return function (feature, datum) {\n      var featureKey = _get(feature, match);\n      var datumKey = _get(datum, match);\n      return featureKey && featureKey === datumKey;\n    };\n  }, [match]);\n  var getLabel = useMemo(function () {\n    return _isFunction(label) ? label : function (datum) {\n      return _get(datum, label);\n    };\n  }, [label]);\n  var getValue = useMemo(function () {\n    return _isFunction(value) ? value : function (datum) {\n      return _get(datum, value);\n    };\n  }, [value]);\n  var valueFormatter = useMemo(function () {\n    if (valueFormat === undefined) return function (d) {\n      return d;\n    };\n    if (_isFunction(valueFormat)) return valueFormat;\n    return format(valueFormat);\n  }, [valueFormat]);\n  var colorScale = useMemo(function () {\n    return guessQuantizeColorScale(colors).domain(domain);\n  }, [colors, domain]);\n  var getFillColor = useMemo(function () {\n    return function (feature) {\n      if (feature.value === undefined) return unknownColor;\n      return colorScale(feature.value);\n    };\n  }, [colorScale, unknownColor]);\n  var boundFeatures = useMemo(function () {\n    return features.map(function (feature) {\n      var datum = data.find(function (datum) {\n        return findMatchingDatum(feature, datum);\n      });\n      var datumValue = getValue(datum);\n      if (datum) {\n        var featureWithData = _objectSpread({}, feature, {\n          data: datum,\n          value: datumValue,\n          formattedValue: valueFormatter(datumValue)\n        });\n        featureWithData.color = getFillColor(featureWithData);\n        featureWithData.label = getLabel(featureWithData);\n        return featureWithData;\n      }\n      return feature;\n    });\n  }, [features, data, findMatchingDatum, getValue, valueFormatter, getFillColor]);\n  var legendData = useQuantizeColorScaleLegendData({\n    scale: colorScale,\n    valueFormat: valueFormatter\n  });\n  return {\n    colorScale: colorScale,\n    getFillColor: getFillColor,\n    boundFeatures: boundFeatures,\n    valueFormatter: valueFormatter,\n    legendData: legendData\n  };\n};\n\nvar ChoroplethTooltip = memo(function (_ref) {\n  var feature = _ref.feature;\n  if (feature.data === undefined) return null;\n  return React.createElement(BasicTooltip, {\n    id: feature.label,\n    color: feature.color,\n    enableChip: true,\n    value: feature.formattedValue\n  });\n});\nChoroplethTooltip.propTypes = {\n  feature: PropTypes.object.isRequired\n};\nChoroplethTooltip.displayName = 'ChoroplethTooltip';\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$1(target, key, source[key]); }); } return target; }\nfunction _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nvar commonPropTypes = {\n  features: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    type: PropTypes.oneOf(['Feature']).isRequired,\n    properties: PropTypes.object,\n    geometry: PropTypes.object.isRequired\n  })).isRequired,\n  projectionType: PropTypes.oneOf(Object.keys(projectionById)).isRequired,\n  projectionScale: PropTypes.number.isRequired,\n  projectionTranslation: PropTypes.arrayOf(PropTypes.number).isRequired,\n  projectionRotation: PropTypes.arrayOf(PropTypes.number).isRequired,\n  fillColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  borderWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.func]).isRequired,\n  borderColor: inheritedColorPropType.isRequired,\n  enableGraticule: PropTypes.bool.isRequired,\n  graticuleLineWidth: PropTypes.number.isRequired,\n  graticuleLineColor: PropTypes.string.isRequired,\n  isInteractive: PropTypes.bool.isRequired,\n  onMouseEnter: PropTypes.func.isRequired,\n  onMouseMove: PropTypes.func.isRequired,\n  onMouseLeave: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n  tooltip: PropTypes.any,\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['graticule', 'features']), PropTypes.func])).isRequired\n};\nvar GeoMapPropTypes = _objectSpread$1({}, commonPropTypes);\nvar GeoMapCanvasPropTypes = _objectSpread$1({\n  pixelRatio: PropTypes.number.isRequired\n}, commonPropTypes);\nvar commonChoroplethPropTypes = {\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  match: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  valueFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  colors: quantizeColorScalePropType.isRequired,\n  domain: PropTypes.arrayOf(PropTypes.number).isRequired,\n  unknownColor: PropTypes.string.isRequired,\n  layers: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.oneOf(['graticule', 'features', 'legends']), PropTypes.func])).isRequired\n};\nvar ChoroplethPropTypes = _objectSpread$1({}, GeoMapPropTypes, commonChoroplethPropTypes);\nvar ChoroplethCanvasPropTypes = _objectSpread$1({}, GeoMapCanvasPropTypes, commonChoroplethPropTypes);\nvar commonDefaultProps = {\n  projectionType: 'mercator',\n  projectionScale: 100,\n  projectionTranslation: [0.5, 0.5],\n  projectionRotation: [0, 0, 0],\n  enableGraticule: false,\n  graticuleLineWidth: 0.5,\n  graticuleLineColor: '#999999',\n  fillColor: '#dddddd',\n  borderWidth: 0,\n  borderColor: '#000000',\n  isInteractive: true,\n  onMouseEnter: function onMouseEnter() {},\n  onMouseLeave: function onMouseLeave() {},\n  onMouseMove: function onMouseMove() {},\n  onClick: function onClick() {},\n  layers: ['graticule', 'features'],\n  legends: []\n};\nvar GeoMapDefaultProps = _objectSpread$1({}, commonDefaultProps);\nvar GeoMapCanvasDefaultProps = _objectSpread$1({}, commonDefaultProps, {\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n});\nvar commonChoroplethDefaultProps = {\n  match: 'id',\n  label: 'id',\n  value: 'value',\n  colors: 'PuBuGn',\n  unknownColor: '#999',\n  tooltip: ChoroplethTooltip,\n  layers: ['graticule', 'features', 'legends']\n};\nvar ChoroplethDefaultProps = _objectSpread$1({}, GeoMapDefaultProps, commonChoroplethDefaultProps);\nvar ChoroplethCanvasDefaultProps = _objectSpread$1({}, GeoMapCanvasDefaultProps, commonChoroplethDefaultProps);\n\nvar GeoGraticule = memo(function (_ref) {\n  var path = _ref.path,\n      graticule = _ref.graticule,\n      lineWidth = _ref.lineWidth,\n      lineColor = _ref.lineColor;\n  return React.createElement(\"path\", {\n    fill: \"none\",\n    strokeWidth: lineWidth,\n    stroke: lineColor,\n    d: path(graticule())\n  });\n});\nGeoGraticule.propTypes = {\n  path: PropTypes.func.isRequired,\n  graticule: PropTypes.func.isRequired,\n  lineWidth: PropTypes.number.isRequired,\n  lineColor: PropTypes.string.isRequired\n};\nGeoGraticule.displayName = 'GeoGraticule';\n\nvar GeoMapFeature = memo(function (_ref) {\n  var feature = _ref.feature,\n      path = _ref.path,\n      fillColor = _ref.fillColor,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor,\n      _onClick = _ref.onClick,\n      _onMouseEnter = _ref.onMouseEnter,\n      _onMouseMove = _ref.onMouseMove,\n      _onMouseLeave = _ref.onMouseLeave;\n  return React.createElement(\"path\", {\n    key: feature.id,\n    fill: fillColor,\n    strokeWidth: borderWidth,\n    stroke: borderColor,\n    strokeLinejoin: \"bevel\",\n    d: path(feature),\n    onMouseEnter: function onMouseEnter(event) {\n      return _onMouseEnter(feature, event);\n    },\n    onMouseMove: function onMouseMove(event) {\n      return _onMouseMove(feature, event);\n    },\n    onMouseLeave: function onMouseLeave(event) {\n      return _onMouseLeave(feature, event);\n    },\n    onClick: function onClick(event) {\n      return _onClick(feature, event);\n    }\n  });\n});\nGeoMapFeature.propTypes = {\n  feature: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    type: PropTypes.oneOf(['Feature']).isRequired,\n    properties: PropTypes.object,\n    geometry: PropTypes.object.isRequired\n  }).isRequired,\n  path: PropTypes.func.isRequired,\n  fillColor: PropTypes.string.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.string.isRequired,\n  onMouseEnter: PropTypes.func.isRequired,\n  onMouseMove: PropTypes.func.isRequired,\n  onMouseLeave: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired\n};\nGeoMapFeature.displayName = 'GeoMapFeature';\n\nvar GeoMap = memo(function (props) {\n  var width = props.width,\n      height = props.height,\n      partialMargin = props.margin,\n      features = props.features,\n      layers = props.layers,\n      projectionType = props.projectionType,\n      projectionScale = props.projectionScale,\n      projectionTranslation = props.projectionTranslation,\n      projectionRotation = props.projectionRotation,\n      fillColor = props.fillColor,\n      borderWidth = props.borderWidth,\n      borderColor = props.borderColor,\n      enableGraticule = props.enableGraticule,\n      graticuleLineWidth = props.graticuleLineWidth,\n      graticuleLineColor = props.graticuleLineColor,\n      isInteractive = props.isInteractive,\n      onClick = props.onClick,\n      Tooltip = props.tooltip;\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n  var _useGeoMap = useGeoMap({\n    width: width,\n    height: height,\n    projectionType: projectionType,\n    projectionScale: projectionScale,\n    projectionTranslation: projectionTranslation,\n    projectionRotation: projectionRotation,\n    fillColor: fillColor,\n    borderWidth: borderWidth,\n    borderColor: borderColor\n  }),\n      graticule = _useGeoMap.graticule,\n      path = _useGeoMap.path,\n      getFillColor = _useGeoMap.getFillColor,\n      getBorderWidth = _useGeoMap.getBorderWidth,\n      getBorderColor = _useGeoMap.getBorderColor;\n  var theme = useTheme();\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleClick = useCallback(function (feature, event) {\n    return isInteractive && onClick && onClick(feature, event);\n  }, [isInteractive, onClick]);\n  var handleMouseEnter = useCallback(function (feature, event) {\n    return isInteractive && Tooltip && showTooltipFromEvent(React.createElement(Tooltip, {\n      feature: feature\n    }), event);\n  }, [isInteractive, showTooltipFromEvent, Tooltip]);\n  var handleMouseMove = useCallback(function (feature, event) {\n    return isInteractive && Tooltip && showTooltipFromEvent(React.createElement(Tooltip, {\n      feature: feature\n    }), event);\n  }, [isInteractive, showTooltipFromEvent, Tooltip]);\n  var handleMouseLeave = useCallback(function () {\n    return isInteractive && hideTooltip();\n  }, [isInteractive, hideTooltip]);\n  return React.createElement(SvgWrapper, {\n    width: outerWidth,\n    height: outerHeight,\n    margin: margin,\n    theme: theme\n  }, layers.map(function (layer, i) {\n    if (layer === 'graticule') {\n      if (enableGraticule !== true) return null;\n      return React.createElement(GeoGraticule, {\n        key: \"graticule\",\n        path: path,\n        graticule: graticule,\n        lineWidth: graticuleLineWidth,\n        lineColor: graticuleLineColor\n      });\n    }\n    if (layer === 'features') {\n      return React.createElement(Fragment, {\n        key: \"features\"\n      }, features.map(function (feature) {\n        return React.createElement(GeoMapFeature, {\n          key: feature.id,\n          feature: feature,\n          path: path,\n          fillColor: getFillColor(feature),\n          borderWidth: getBorderWidth(feature),\n          borderColor: getBorderColor(feature),\n          onMouseEnter: handleMouseEnter,\n          onMouseMove: handleMouseMove,\n          onMouseLeave: handleMouseLeave,\n          onClick: handleClick\n        });\n      }));\n    }\n    return React.createElement(Fragment, {\n      key: i\n    }, layer(props));\n  }));\n});\nGeoMap.displayName = 'GeoMap';\nGeoMap.propTypes = GeoMapPropTypes;\nGeoMap.defaultProps = GeoMapDefaultProps;\nvar GeoMap$1 = withContainer(GeoMap);\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar ResponsiveGeoMap = function ResponsiveGeoMap(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(GeoMap$1, _extends({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar getFeatureFromMouseEvent = function getFeatureFromMouseEvent(event, el, features, projection) {\n  var _getRelativeCursor = getRelativeCursor(el, event),\n      _getRelativeCursor2 = _slicedToArray(_getRelativeCursor, 2),\n      x = _getRelativeCursor2[0],\n      y = _getRelativeCursor2[1];\n  return features.find(function (f) {\n    return geoContains(f, projection.invert([x, y]));\n  });\n};\nvar GeoMapCanvas = memo(function (props) {\n  var width = props.width,\n      height = props.height,\n      partialMargin = props.margin,\n      pixelRatio = props.pixelRatio,\n      features = props.features,\n      layers = props.layers,\n      projectionType = props.projectionType,\n      projectionScale = props.projectionScale,\n      projectionTranslation = props.projectionTranslation,\n      projectionRotation = props.projectionRotation,\n      fillColor = props.fillColor,\n      borderWidth = props.borderWidth,\n      borderColor = props.borderColor,\n      enableGraticule = props.enableGraticule,\n      graticuleLineWidth = props.graticuleLineWidth,\n      graticuleLineColor = props.graticuleLineColor,\n      isInteractive = props.isInteractive,\n      onClick = props.onClick,\n      onMouseMove = props.onMouseMove,\n      Tooltip = props.tooltip;\n  var canvasEl = useRef(null);\n  var theme = useTheme();\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n  var _useGeoMap = useGeoMap({\n    width: width,\n    height: height,\n    projectionType: projectionType,\n    projectionScale: projectionScale,\n    projectionTranslation: projectionTranslation,\n    projectionRotation: projectionRotation,\n    fillColor: fillColor,\n    borderWidth: borderWidth,\n    borderColor: borderColor\n  }),\n      projection = _useGeoMap.projection,\n      graticule = _useGeoMap.graticule,\n      path = _useGeoMap.path,\n      getFillColor = _useGeoMap.getFillColor,\n      getBorderWidth = _useGeoMap.getBorderWidth,\n      getBorderColor = _useGeoMap.getBorderColor;\n  useEffect(function () {\n    if (!canvasEl) return;\n    canvasEl.current.width = outerWidth * pixelRatio;\n    canvasEl.current.height = outerHeight * pixelRatio;\n    var ctx = canvasEl.current.getContext('2d');\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.fillStyle = theme.background;\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\n    ctx.translate(margin.left, margin.top);\n    path.context(ctx);\n    layers.forEach(function (layer) {\n      if (layer === 'graticule') {\n        if (enableGraticule === true) {\n          ctx.lineWidth = graticuleLineWidth;\n          ctx.strokeStyle = graticuleLineColor;\n          ctx.beginPath();\n          path(graticule());\n          ctx.stroke();\n        }\n      } else if (layer === 'features') {\n        features.forEach(function (feature) {\n          ctx.beginPath();\n          path(feature);\n          ctx.fillStyle = getFillColor(feature);\n          ctx.fill();\n          var borderWidth = getBorderWidth(feature);\n          if (borderWidth > 0) {\n            ctx.strokeStyle = getBorderColor(feature);\n            ctx.lineWidth = borderWidth;\n            ctx.stroke();\n          }\n        });\n      } else {\n        layer(ctx, props);\n      }\n    });\n  }, [canvasEl, outerWidth, outerHeight, margin, pixelRatio, theme, path, graticule, getFillColor, getBorderWidth, getBorderColor, features, layers]);\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseMove = useCallback(function () {\n    if (!isInteractive || !Tooltip) return;\n    var feature = getFeatureFromMouseEvent(event, canvasEl.current, features, projection);\n    if (feature) {\n      showTooltipFromEvent(React.createElement(Tooltip, {\n        feature: feature\n      }), event);\n    } else {\n      hideTooltip();\n    }\n    onMouseMove && onMouseMove(feature || null, event);\n  }, [showTooltipFromEvent, hideTooltip, isInteractive, Tooltip, canvasEl, features, projection]);\n  var handleMouseLeave = useCallback(function () {\n    return isInteractive && hideTooltip();\n  }, [isInteractive, hideTooltip]);\n  var handleClick = useCallback(function () {\n    if (!isInteractive || !onClick) return;\n    var feature = getFeatureFromMouseEvent(event, canvasEl.current, features, projection);\n    if (feature) {\n      onClick(feature, event);\n    }\n  }, [isInteractive, canvasEl, features, projection, onClick]);\n  return React.createElement(\"canvas\", {\n    ref: canvasEl,\n    width: outerWidth * pixelRatio,\n    height: outerHeight * pixelRatio,\n    style: {\n      width: outerWidth,\n      height: outerHeight,\n      cursor: isInteractive ? 'auto' : 'normal'\n    },\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick\n  });\n});\nGeoMapCanvas.displatName = 'GeoMapCanvas';\nGeoMapCanvas.propTypes = GeoMapCanvasPropTypes;\nGeoMapCanvas.defaultProps = GeoMapCanvasDefaultProps;\nvar GeoMapCanvas$1 = withContainer(GeoMapCanvas);\n\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\nvar ResponsiveGeoMapCanvas = function ResponsiveGeoMapCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(GeoMapCanvas$1, _extends$1({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\nvar Choropleth = memo(function (_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      partialMargin = _ref.margin,\n      features = _ref.features,\n      data = _ref.data,\n      match = _ref.match,\n      label = _ref.label,\n      value = _ref.value,\n      valueFormat = _ref.valueFormat,\n      projectionType = _ref.projectionType,\n      projectionScale = _ref.projectionScale,\n      projectionTranslation = _ref.projectionTranslation,\n      projectionRotation = _ref.projectionRotation,\n      colors = _ref.colors,\n      domain = _ref.domain,\n      unknownColor = _ref.unknownColor,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor,\n      enableGraticule = _ref.enableGraticule,\n      graticuleLineWidth = _ref.graticuleLineWidth,\n      graticuleLineColor = _ref.graticuleLineColor,\n      layers = _ref.layers,\n      legends = _ref.legends,\n      isInteractive = _ref.isInteractive,\n      onClick = _ref.onClick,\n      Tooltip = _ref.tooltip;\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n  var _useGeoMap = useGeoMap({\n    width: width,\n    height: height,\n    projectionType: projectionType,\n    projectionScale: projectionScale,\n    projectionTranslation: projectionTranslation,\n    projectionRotation: projectionRotation,\n    fillColor: function fillColor() {},\n    borderWidth: borderWidth,\n    borderColor: borderColor\n  }),\n      graticule = _useGeoMap.graticule,\n      path = _useGeoMap.path,\n      getBorderWidth = _useGeoMap.getBorderWidth,\n      getBorderColor = _useGeoMap.getBorderColor;\n  var _useChoropleth = useChoropleth({\n    features: features,\n    data: data,\n    match: match,\n    label: label,\n    value: value,\n    valueFormat: valueFormat,\n    colors: colors,\n    unknownColor: unknownColor,\n    domain: domain\n  }),\n      getFillColor = _useChoropleth.getFillColor,\n      boundFeatures = _useChoropleth.boundFeatures,\n      legendData = _useChoropleth.legendData;\n  var theme = useTheme();\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleClick = useCallback(function (feature, event) {\n    return isInteractive && onClick && onClick(feature, event);\n  }, [isInteractive, onClick]);\n  var handleMouseEnter = useCallback(function (feature, event) {\n    return isInteractive && Tooltip && showTooltipFromEvent(React.createElement(Tooltip, {\n      feature: feature\n    }), event);\n  }, [isInteractive, showTooltipFromEvent, Tooltip]);\n  var handleMouseMove = useCallback(function (feature, event) {\n    return isInteractive && Tooltip && showTooltipFromEvent(React.createElement(Tooltip, {\n      feature: feature\n    }), event);\n  }, [isInteractive, showTooltipFromEvent, Tooltip]);\n  var handleMouseLeave = useCallback(function () {\n    return isInteractive && hideTooltip();\n  }, [isInteractive, hideTooltip]);\n  return React.createElement(SvgWrapper, {\n    width: outerWidth,\n    height: outerHeight,\n    margin: margin,\n    theme: theme\n  }, layers.map(function (layer, i) {\n    if (layer === 'graticule') {\n      if (enableGraticule !== true) return null;\n      return React.createElement(GeoGraticule, {\n        key: \"graticule\",\n        path: path,\n        graticule: graticule,\n        lineWidth: graticuleLineWidth,\n        lineColor: graticuleLineColor\n      });\n    }\n    if (layer === 'features') {\n      return React.createElement(Fragment, {\n        key: \"features\"\n      }, boundFeatures.map(function (feature) {\n        return React.createElement(GeoMapFeature, {\n          key: feature.id,\n          feature: feature,\n          path: path,\n          fillColor: getFillColor(feature),\n          borderWidth: getBorderWidth(feature),\n          borderColor: getBorderColor(feature),\n          onMouseEnter: handleMouseEnter,\n          onMouseMove: handleMouseMove,\n          onMouseLeave: handleMouseLeave,\n          onClick: handleClick\n        });\n      }));\n    }\n    if (layer === 'legends') {\n      return legends.map(function (legend, i) {\n        return React.createElement(BoxLegendSvg, _extends$2({\n          key: i,\n          containerWidth: width,\n          containerHeight: height,\n          data: legendData\n        }, legend));\n      });\n    }\n    return React.createElement(Fragment, {\n      key: i\n    }, layer({}));\n  }));\n});\nChoropleth.displayName = 'Choropleth';\nChoropleth.propTypes = ChoroplethPropTypes;\nChoropleth.defaultProps = ChoroplethDefaultProps;\nvar Choropleth$1 = withContainer(Choropleth);\n\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\nvar ResponsiveChoropleth = function ResponsiveChoropleth(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(Choropleth$1, _extends$3({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(Object(source)); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty$2(target, key, source[key]); }); } return target; }\nfunction _defineProperty$2(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _slicedToArray$1(arr, i) { return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _nonIterableRest$1(); }\nfunction _nonIterableRest$1() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\nfunction _iterableToArrayLimit$1(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles$1(arr) { if (Array.isArray(arr)) return arr; }\nvar getFeatureFromMouseEvent$1 = function getFeatureFromMouseEvent(event, el, features, projection) {\n  var _getRelativeCursor = getRelativeCursor(el, event),\n      _getRelativeCursor2 = _slicedToArray$1(_getRelativeCursor, 2),\n      x = _getRelativeCursor2[0],\n      y = _getRelativeCursor2[1];\n  return features.find(function (f) {\n    return geoContains(f, projection.invert([x, y]));\n  });\n};\nvar ChoroplethCanvas = memo(function (_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      partialMargin = _ref.margin,\n      pixelRatio = _ref.pixelRatio,\n      features = _ref.features,\n      data = _ref.data,\n      match = _ref.match,\n      label = _ref.label,\n      value = _ref.value,\n      valueFormat = _ref.valueFormat,\n      projectionType = _ref.projectionType,\n      projectionScale = _ref.projectionScale,\n      projectionTranslation = _ref.projectionTranslation,\n      projectionRotation = _ref.projectionRotation,\n      colors = _ref.colors,\n      domain = _ref.domain,\n      unknownColor = _ref.unknownColor,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor,\n      enableGraticule = _ref.enableGraticule,\n      graticuleLineWidth = _ref.graticuleLineWidth,\n      graticuleLineColor = _ref.graticuleLineColor,\n      layers = _ref.layers,\n      legends = _ref.legends,\n      isInteractive = _ref.isInteractive,\n      onClick = _ref.onClick,\n      onMouseMove = _ref.onMouseMove,\n      Tooltip = _ref.tooltip;\n  var canvasEl = useRef(null);\n  var theme = useTheme();\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n  var _useGeoMap = useGeoMap({\n    width: width,\n    height: height,\n    projectionType: projectionType,\n    projectionScale: projectionScale,\n    projectionTranslation: projectionTranslation,\n    projectionRotation: projectionRotation,\n    fillColor: function fillColor() {},\n    borderWidth: borderWidth,\n    borderColor: borderColor\n  }),\n      projection = _useGeoMap.projection,\n      graticule = _useGeoMap.graticule,\n      path = _useGeoMap.path,\n      getBorderWidth = _useGeoMap.getBorderWidth,\n      getBorderColor = _useGeoMap.getBorderColor;\n  var _useChoropleth = useChoropleth({\n    features: features,\n    data: data,\n    match: match,\n    label: label,\n    value: value,\n    valueFormat: valueFormat,\n    colors: colors,\n    unknownColor: unknownColor,\n    domain: domain\n  }),\n      getFillColor = _useChoropleth.getFillColor,\n      boundFeatures = _useChoropleth.boundFeatures,\n      legendData = _useChoropleth.legendData;\n  useEffect(function () {\n    if (!canvasEl) return;\n    canvasEl.current.width = outerWidth * pixelRatio;\n    canvasEl.current.height = outerHeight * pixelRatio;\n    var ctx = canvasEl.current.getContext('2d');\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.fillStyle = theme.background;\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\n    ctx.translate(margin.left, margin.top);\n    path.context(ctx);\n    layers.forEach(function (layer) {\n      if (layer === 'graticule') {\n        if (enableGraticule === true) {\n          ctx.lineWidth = graticuleLineWidth;\n          ctx.strokeStyle = graticuleLineColor;\n          ctx.beginPath();\n          path(graticule());\n          ctx.stroke();\n        }\n      } else if (layer === 'features') {\n        boundFeatures.forEach(function (feature) {\n          ctx.beginPath();\n          path(feature);\n          ctx.fillStyle = getFillColor(feature);\n          ctx.fill();\n          var borderWidth = getBorderWidth(feature);\n          if (borderWidth > 0) {\n            ctx.strokeStyle = getBorderColor(feature);\n            ctx.lineWidth = borderWidth;\n            ctx.stroke();\n          }\n        });\n      } else if (layer === 'legends') {\n        legends.forEach(function (legend) {\n          renderLegendToCanvas(ctx, _objectSpread$2({}, legend, {\n            data: legendData,\n            containerWidth: width,\n            containerHeight: height,\n            theme: theme\n          }));\n        });\n      }\n    });\n  }, [canvasEl, outerWidth, outerHeight, margin, pixelRatio, theme, path, graticule, getFillColor, getBorderWidth, getBorderColor, boundFeatures, legends, layers]);\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n  var handleMouseMove = useCallback(function () {\n    if (!isInteractive || !Tooltip) return;\n    var feature = getFeatureFromMouseEvent$1(event, canvasEl.current, boundFeatures, projection);\n    if (feature) {\n      showTooltipFromEvent(React.createElement(Tooltip, {\n        feature: feature\n      }), event);\n    } else {\n      hideTooltip();\n    }\n    onMouseMove && onMouseMove(feature || null, event);\n  }, [showTooltipFromEvent, hideTooltip, isInteractive, Tooltip, canvasEl, boundFeatures, projection]);\n  var handleMouseLeave = useCallback(function () {\n    return isInteractive && hideTooltip();\n  }, [isInteractive, hideTooltip]);\n  var handleClick = useCallback(function () {\n    if (!isInteractive || !onClick) return;\n    var feature = getFeatureFromMouseEvent$1(event, canvasEl.current, boundFeatures, projection);\n    if (feature) {\n      onClick(feature, event);\n    }\n  }, [isInteractive, canvasEl, boundFeatures, projection, onClick]);\n  return React.createElement(\"canvas\", {\n    ref: canvasEl,\n    width: outerWidth * pixelRatio,\n    height: outerHeight * pixelRatio,\n    style: {\n      width: outerWidth,\n      height: outerHeight,\n      cursor: isInteractive ? 'auto' : 'normal'\n    },\n    onMouseMove: handleMouseMove,\n    onMouseLeave: handleMouseLeave,\n    onClick: handleClick\n  });\n});\nChoroplethCanvas.displayName = 'ChoroplethCanvas';\nChoroplethCanvas.propTypes = ChoroplethCanvasPropTypes;\nChoroplethCanvas.defaultProps = ChoroplethCanvasDefaultProps;\nvar ChoroplethCanvas$1 = withContainer(ChoroplethCanvas);\n\nfunction _extends$4() { _extends$4 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$4.apply(this, arguments); }\nvar ResponsiveChoroplethCanvas = function ResponsiveChoroplethCanvas(props) {\n  return React.createElement(ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React.createElement(ChoroplethCanvas$1, _extends$4({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\nexport { Choropleth$1 as Choropleth, ChoroplethCanvas$1 as ChoroplethCanvas, ChoroplethCanvasDefaultProps, ChoroplethCanvasPropTypes, ChoroplethDefaultProps, ChoroplethPropTypes, GeoMap$1 as GeoMap, GeoMapCanvas$1 as GeoMapCanvas, GeoMapCanvasDefaultProps, GeoMapCanvasPropTypes, GeoMapDefaultProps, GeoMapPropTypes, ResponsiveChoropleth, ResponsiveChoroplethCanvas, ResponsiveGeoMap, ResponsiveGeoMapCanvas, projectionById, useChoropleth, useGeoMap };\n"]},"metadata":{},"sourceType":"module"}